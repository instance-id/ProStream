import{_ as a,o as n,c as s,ag as t}from"./chunks/framework.DPLcbSfg.js";const g=JSON.parse('{"title":"Operation Engine","description":"","frontmatter":{},"headers":[],"relativePath":"editor-guide/engines/operation-engine.md","filePath":"editor-guide/engines/operation-engine.md"}'),i={name:"editor-guide/engines/operation-engine.md"};function o(r,e,l,p,c,d){return n(),s("div",null,[...e[0]||(e[0]=[t(`<h1 id="operation-engine" tabindex="-1">Operation Engine <a class="header-anchor" href="#operation-engine" aria-label="Permalink to &quot;Operation Engine&quot;">​</a></h1><p>The <strong>Operation Engine</strong> is the execution framework that performs major tasks in ProStream. While <a href="/editor-guide/engines/modification-engine.html">Modifications</a> enhance and transform data during processes, <strong>Operations</strong> are the actual processes themselves.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>Operations are typically complex, multi-step procedures that orchestrate workflows like calculating positions, creating SubScenes, or resetting scene state.</p><h3 id="operations-vs-modifications" tabindex="-1">Operations vs Modifications <a class="header-anchor" href="#operations-vs-modifications" aria-label="Permalink to &quot;Operations vs Modifications&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Aspect</th><th>Operations</th><th>Modifications</th></tr></thead><tbody><tr><td><strong>Purpose</strong></td><td>Execute major processes</td><td>Transform/enhance data</td></tr><tr><td><strong>Scope</strong></td><td>Entire workflows</td><td>Specific stages</td></tr><tr><td><strong>Execution</strong></td><td>Triggered explicitly</td><td>Run during operations</td></tr><tr><td><strong>Examples</strong></td><td>Calculate positions, Create SubScenes</td><td>Combine meshes, Remove components</td></tr><tr><td><strong>Complexity</strong></td><td>High (multi-phase)</td><td>Low to Medium (focused)</td></tr></tbody></table><h2 id="built-in-operations" tabindex="-1">Built-in Operations <a class="header-anchor" href="#built-in-operations" aria-label="Permalink to &quot;Built-in Operations&quot;">​</a></h2><h3 id="generatelocationdataop" tabindex="-1">GenerateLocationDataOp <a class="header-anchor" href="#generatelocationdataop" aria-label="Permalink to &quot;GenerateLocationDataOp&quot;">​</a></h3><p><strong>Purpose:</strong> Calculate object positions and apply match rules</p><p><strong>What it does:</strong></p><ul><li>Applies all enabled match rules</li><li>Assigns objects to sections</li><li>Creates QuadTree spatial grid</li><li>Generates ObjectSectionDetails</li><li>Builds QuadSubSceneData</li></ul><p><strong>Trigger:</strong> &quot;Calculate Positions&quot; button</p><p><strong>Documentation:</strong> <a href="/processes/position-calculation.html">Position Calculation Process</a></p><h3 id="createsubscenesop" tabindex="-1">CreateSubScenesOp <a class="header-anchor" href="#createsubscenesop" aria-label="Permalink to &quot;CreateSubScenesOp&quot;">​</a></h3><p><strong>Purpose:</strong> Create SubScene asset files</p><p><strong>Workflow-specific implementations:</strong></p><ul><li><code>CreateGameObjectSubScenesOp</code> - For standard GameObject workflow</li><li><code>CreateDataObjectSubScenesOp</code> - For DataObject workflow</li><li><code>CreateInstanceObjectSubSceneWorkflow</code> - For InstanceObject workflow</li></ul><p><strong>What it does:</strong></p><ul><li>Creates SubScene asset files</li><li>Generates section hierarchies</li><li>Clones and organizes objects</li><li>Executes modifications at various stages</li><li>Finalizes and saves SubScenes</li></ul><p><strong>Trigger:</strong> &quot;Create SubScenes&quot; button</p><p><strong>Documentation:</strong> <a href="/processes/process-subscenes.html">SubScene Creation Process</a></p><h3 id="resetsceneop" tabindex="-1">ResetSceneOp <a class="header-anchor" href="#resetsceneop" aria-label="Permalink to &quot;ResetSceneOp&quot;">​</a></h3><p><strong>Purpose:</strong> Reset scene to pre-processing state</p><p><strong>What it does:</strong></p><ul><li>Removes SubScene GameObjects</li><li>Clears generated data</li><li>Resets SceneConnector state</li><li>Optionally deletes SubScene assets</li><li>Returns scene to clean state</li></ul><p><strong>Trigger:</strong> &quot;Reset Scene&quot; button</p><p><strong>Use Case:</strong></p><ul><li>Start over with different configuration</li><li>Clean up after testing</li><li>Remove broken SubScene setup</li></ul><h3 id="trackprefabsop" tabindex="-1">TrackPrefabsOp <a class="header-anchor" href="#trackprefabsop" aria-label="Permalink to &quot;TrackPrefabsOp&quot;">​</a></h3><p><strong>Purpose:</strong> Track and manage prefab references</p><p><strong>What it does:</strong></p><ul><li>Scans scene for prefab instances</li><li>Records prefab dependencies</li><li>Validates prefab connections</li><li>Helps maintain prefab integrity during processing</li></ul><p><strong>Trigger:</strong> Automatic during setup</p><h2 id="operation-execution-flow" tabindex="-1">Operation Execution Flow <a class="header-anchor" href="#operation-execution-flow" aria-label="Permalink to &quot;Operation Execution Flow&quot;">​</a></h2><h3 id="typical-operation-structure" tabindex="-1">Typical Operation Structure <a class="header-anchor" href="#typical-operation-structure" aria-label="Permalink to &quot;Typical Operation Structure&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Operation Triggered (Button Click / Event)</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>PrepareOperation()</span></span>
<span class="line"><span>    - Validate parameters</span></span>
<span class="line"><span>    - Initialize data structures</span></span>
<span class="line"><span>    - Perform pre-checks</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>PerformOperation()</span></span>
<span class="line"><span>    - Execute main logic</span></span>
<span class="line"><span>    - Call sub-processes</span></span>
<span class="line"><span>    - Run modifications at appropriate stages</span></span>
<span class="line"><span>    - Handle errors/cancellation</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>Finalize</span></span>
<span class="line"><span>    - Save results</span></span>
<span class="line"><span>    - Update state</span></span>
<span class="line"><span>    - Trigger callbacks</span></span>
<span class="line"><span>    - Clean up resources</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>Complete</span></span></code></pre></div><h3 id="integration-with-modifications" tabindex="-1">Integration with Modifications <a class="header-anchor" href="#integration-with-modifications" aria-label="Permalink to &quot;Integration with Modifications&quot;">​</a></h3><p>Operations call modifications at specific execution placements:</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Before main operation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RunModifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ExecutionPlacement.BeforePositionCalculation);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Main operation logic</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PerformCalculations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// After main operation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RunModifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ExecutionPlacement.AfterPositionCalculation);</span></span></code></pre></div><h2 id="creating-custom-operations" tabindex="-1">Creating Custom Operations <a class="header-anchor" href="#creating-custom-operations" aria-label="Permalink to &quot;Creating Custom Operations&quot;">​</a></h2><p>Custom operations are advanced and typically not needed for most users. If you need custom workflow behavior, consider using <a href="/editor-guide/engines/modification-engine.html">Modifications</a> instead.</p><h2 id="operation-state-management" tabindex="-1">Operation State Management <a class="header-anchor" href="#operation-state-management" aria-label="Permalink to &quot;Operation State Management&quot;">​</a></h2><p>Operations track their state during execution:</p><p><strong>States:</strong></p><ul><li><strong>Idle</strong> - Not running</li><li><strong>Preparing</strong> - Initializing</li><li><strong>Running</strong> - Executing main logic</li><li><strong>Finalizing</strong> - Cleaning up</li><li><strong>Complete</strong> - Finished successfully</li><li><strong>Error</strong> - Failed with error</li><li><strong>Cancelled</strong> - User cancelled</li></ul><h2 id="progress-reporting" tabindex="-1">Progress Reporting <a class="header-anchor" href="#progress-reporting" aria-label="Permalink to &quot;Progress Reporting&quot;">​</a></h2><p>Operations report progress through:</p><ul><li>Progress bars in ProStream Editor</li><li>Console log messages</li><li>Status updates in UI</li></ul><h2 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to &quot;Error Handling&quot;">​</a></h2><p>Operations handle errors gracefully:</p><ul><li>Validation before execution</li><li>Try-catch blocks around critical sections</li><li>Rollback on failure when possible</li><li>Clear error messages in console</li></ul><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="/editor-guide/engines/modification-engine.html">Modification Engine</a> - Extend operation behavior</li><li><a href="/processes/position-calculation.html">Position Calculation</a> - GenerateLocationDataOp details</li><li><a href="/processes/process-subscenes.html">SubScene Creation</a> - CreateSubScenesOp details</li></ul>`,53)])])}const h=a(i,[["render",o]]);export{g as __pageData,h as default};
