import{_ as a,a as t,b as i}from"./chunks/pst_3_layerEditorPersistent_image_psTutorial.CWG0vMze.js";import{_ as r,o as s,c as n,ag as l}from"./chunks/framework.DPLcbSfg.js";const b=JSON.parse('{"title":"Streaming Layers","description":"","frontmatter":{},"headers":[],"relativePath":"core-concepts/streaming-layers.md","filePath":"core-concepts/streaming-layers.md"}'),o={name:"core-concepts/streaming-layers.md"};function d(c,e,g,u,h,m){return s(),n("div",null,[...e[0]||(e[0]=[l('<h1 id="streaming-layers" tabindex="-1">Streaming Layers <a class="header-anchor" href="#streaming-layers" aria-label="Permalink to &quot;Streaming Layers&quot;">​</a></h1><p>Streaming layers control when and how SubScenes load based on distance from the player or camera. Understanding layers is key to optimizing your streaming setup.</p><h2 id="access-streaming-layers" tabindex="-1">Access Streaming Layers <a class="header-anchor" href="#access-streaming-layers" aria-label="Permalink to &quot;Access Streaming Layers&quot;">​</a></h2><p><img src="'+a+'" alt="Layer Editor Menu"></p><h2 id="streaming-distance-editing" tabindex="-1">Streaming Distance Editing <a class="header-anchor" href="#streaming-distance-editing" aria-label="Permalink to &quot;Streaming Distance Editing&quot;">​</a></h2><p>In the <strong>Layer Editor</strong> menu, you can adjust the distance in which each SubScene layer will load into the scene.</p><p><img src="'+t+'" alt="Layer Distance Configuration"></p><p>In the image above, you can see the <strong>LargeObject</strong> layer has a loading range of <strong>0-256</strong>. This means that if the <strong>Loading Trigger</strong> (Player, Camera, etc) is 256 units of distance away or less, this SubScene Layer will be loaded.</p><div class="tip custom-block"><p class="custom-block-title">Distance Guidelines</p><ul><li><strong>Higher number</strong> = The farther away the Loading Trigger can be for the SubScene layer to load</li><li><strong>Lower number</strong> = The closer the Loading Trigger must be for the SubScene Layer to load</li></ul></div><p>The numeric value in the right-side input box is the current maximum value, and the right-side slider is the current value. Hovering over the slider handle shows what the current distance setting is, and can be dragged left/right to be adjusted.</p><p>To raise the value above the current maximum, just input a new value into the right-side input box.</p><h2 id="persistent-layers" tabindex="-1">Persistent Layers <a class="header-anchor" href="#persistent-layers" aria-label="Permalink to &quot;Persistent Layers&quot;">​</a></h2><p><img src="'+i+`" alt="Persistent Layers"></p><p>Layers marked as <strong>Persistent</strong> are always loaded, and thus, do not need to have a range set.</p><h2 id="default-layers" tabindex="-1">Default Layers <a class="header-anchor" href="#default-layers" aria-label="Permalink to &quot;Default Layers&quot;">​</a></h2><p>ProStream creates these default layers during scene setup:</p><table tabindex="0"><thead><tr><th>Layer Name</th><th>Default Distance</th><th>Purpose</th></tr></thead><tbody><tr><td>Ground</td><td>100m</td><td>Terrain, roads, ground meshes</td></tr><tr><td>LargeObjects</td><td>150m</td><td>Buildings, large structures</td></tr><tr><td>MediumObjects</td><td>100m</td><td>Medium-sized props, vehicles</td></tr><tr><td>SmallObjects</td><td>50m</td><td>Small details, clutter</td></tr><tr><td>Foliage</td><td>75m</td><td>Trees, bushes, grass</td></tr></tbody></table><h2 id="layer-configuration-strategy" tabindex="-1">Layer Configuration Strategy <a class="header-anchor" href="#layer-configuration-strategy" aria-label="Permalink to &quot;Layer Configuration Strategy&quot;">​</a></h2><h3 id="distance-based-loading" tabindex="-1">Distance-Based Loading <a class="header-anchor" href="#distance-based-loading" aria-label="Permalink to &quot;Distance-Based Loading&quot;">​</a></h3><p>Configure layers based on object visibility and importance:</p><p><strong>Far Distance (150m+)</strong></p><ul><li>Large buildings and landmarks</li><li>Terrain features</li><li>Skybox elements</li></ul><p><strong>Medium Distance (75-150m)</strong></p><ul><li>Medium buildings</li><li>Large props</li><li>Trees and vegetation</li></ul><p><strong>Close Distance (25-75m)</strong></p><ul><li>Small props</li><li>Detail objects</li><li>Ground clutter</li></ul><p><strong>Very Close (0-25m)</strong></p><ul><li>Tiny details</li><li>Interactive objects</li><li>High-poly models</li></ul><h3 id="persistent-layers-1" tabindex="-1">Persistent Layers <a class="header-anchor" href="#persistent-layers-1" aria-label="Permalink to &quot;Persistent Layers&quot;">​</a></h3><p>Use persistent layers for:</p><ul><li>Player spawn area</li><li>Essential UI elements</li><li>Core gameplay objects</li><li>Objects that must always be present</li></ul><h2 id="creating-custom-layers" tabindex="-1">Creating Custom Layers <a class="header-anchor" href="#creating-custom-layers" aria-label="Permalink to &quot;Creating Custom Layers&quot;">​</a></h2><p>You can create custom layers to better organize your content:</p><ol><li>Open the Layer Editor</li><li>Click <strong>Add Layer</strong></li><li>Configure the layer name and distance</li><li>Assign rules to match objects to this layer</li></ol><p><strong>Example Custom Layers:</strong></p><ul><li><code>Buildings_Residential</code> (100m)</li><li><code>Buildings_Commercial</code> (125m)</li><li><code>Vegetation_Trees</code> (100m)</li><li><code>Vegetation_Grass</code> (50m)</li><li><code>Props_Interactive</code> (Persistent)</li><li><code>Props_Decorative</code> (75m)</li></ul><h2 id="layer-sections" tabindex="-1">Layer Sections <a class="header-anchor" href="#layer-sections" aria-label="Permalink to &quot;Layer Sections&quot;">​</a></h2><p>Each layer can contain multiple <strong>sections</strong> that correspond to spatial regions in your scene. ProStream automatically divides your scene into a grid (QuadTree), and each grid cell becomes a section.</p><p><strong>Example:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>LargeObjects Layer</span></span>
<span class="line"><span>├── Section 0 (Grid 0,0)</span></span>
<span class="line"><span>├── Section 1 (Grid 0,1)</span></span>
<span class="line"><span>├── Section 2 (Grid 1,0)</span></span>
<span class="line"><span>└── Section 3 (Grid 1,1)</span></span></code></pre></div><p>At runtime, sections load independently based on:</p><ul><li>Distance to the section&#39;s center</li><li>The layer&#39;s configured distance threshold</li></ul><h2 id="performance-considerations" tabindex="-1">Performance Considerations <a class="header-anchor" href="#performance-considerations" aria-label="Permalink to &quot;Performance Considerations&quot;">​</a></h2><h3 id="memory-management" tabindex="-1">Memory Management <a class="header-anchor" href="#memory-management" aria-label="Permalink to &quot;Memory Management&quot;">​</a></h3><p><strong>Aggressive Loading (Smaller distances)</strong></p><ul><li>Lower memory usage</li><li>More frequent loading/unloading</li><li>Potential for pop-in</li></ul><p><strong>Conservative Loading (Larger distances)</strong></p><ul><li>Higher memory usage</li><li>Smoother experience</li><li>Less pop-in</li></ul><h3 id="cpu-impact" tabindex="-1">CPU Impact <a class="header-anchor" href="#cpu-impact" aria-label="Permalink to &quot;CPU Impact&quot;">​</a></h3><p>Loading and unloading SubScenes has a CPU cost. Balance your distances to avoid:</p><ul><li>Loading too many sections simultaneously</li><li>Constant loading/unloading (thrashing)</li></ul><h3 id="recommended-approach" tabindex="-1">Recommended Approach <a class="header-anchor" href="#recommended-approach" aria-label="Permalink to &quot;Recommended Approach&quot;">​</a></h3><ol><li><strong>Start Conservative</strong>: Use larger distances initially</li><li><strong>Profile</strong>: Monitor memory and CPU usage</li><li><strong>Optimize</strong>: Reduce distances where possible</li><li><strong>Test</strong>: Verify smooth streaming during gameplay</li></ol><h2 id="layer-priority" tabindex="-1">Layer Priority <a class="header-anchor" href="#layer-priority" aria-label="Permalink to &quot;Layer Priority&quot;">​</a></h2><p>Layers don&#39;t have explicit priority, but you can control loading order through distance configuration:</p><ul><li>Objects in layers with larger distances load first</li><li>Objects in layers with smaller distances load later</li><li>Persistent layers load immediately</li></ul><h2 id="runtime-behavior" tabindex="-1">Runtime Behavior <a class="header-anchor" href="#runtime-behavior" aria-label="Permalink to &quot;Runtime Behavior&quot;">​</a></h2><p>At runtime, the streaming system:</p><ol><li>Calculates distance from Loading Trigger to each SubScene section</li><li>Compares distance to layer&#39;s configured threshold</li><li>Loads sections within threshold</li><li>Unloads sections beyond threshold + hysteresis buffer</li></ol><p><strong>Hysteresis</strong> prevents rapid loading/unloading by adding a buffer zone.</p><h2 id="debugging-layers" tabindex="-1">Debugging Layers <a class="header-anchor" href="#debugging-layers" aria-label="Permalink to &quot;Debugging Layers&quot;">​</a></h2><h3 id="in-editor" tabindex="-1">In Editor <a class="header-anchor" href="#in-editor" aria-label="Permalink to &quot;In Editor&quot;">​</a></h3><ul><li>Select SceneConnector GameObject</li><li>View Layer Data asset</li><li>Check which objects are assigned to each layer</li></ul><h3 id="at-runtime" tabindex="-1">At Runtime <a class="header-anchor" href="#at-runtime" aria-label="Permalink to &quot;At Runtime&quot;">​</a></h3><ul><li>Open Hierarchy window during Play Mode</li><li>Watch SubScenes load/unload</li><li>Use Profiler to monitor memory usage</li></ul><h3 id="console-logging" tabindex="-1">Console Logging <a class="header-anchor" href="#console-logging" aria-label="Permalink to &quot;Console Logging&quot;">​</a></h3><p>Enable streaming debug logs to see:</p><ul><li>Which sections are loading</li><li>Distance calculations</li><li>Loading/unloading events</li></ul><h2 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">​</a></h2><p><strong>Objects not loading at expected distance</strong></p><ul><li>Check layer distance configuration</li><li>Verify object was assigned to correct layer</li><li>Check SubScene section center position</li></ul><p><strong>All objects loading at once</strong></p><ul><li>Distances may be too large</li><li>Check if layers are marked as Persistent</li><li>Verify Loading Trigger is positioned correctly</li></ul><p><strong>Objects popping in/out rapidly</strong></p><ul><li>Distances too small for scene scale</li><li>Increase hysteresis buffer</li><li>Adjust layer distances</li></ul><p><strong>Memory usage too high</strong></p><ul><li>Reduce layer distances</li><li>Split large layers into smaller ones</li><li>Use more aggressive culling</li></ul><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="/editor-guide/engines/rule-engine.html">Rule Engine</a> - How objects are assigned to layers</li><li><a href="/runtime-systems/runtime-streaming.html">Runtime Streaming</a> - How streaming works at runtime</li><li><a href="/processes/position-calculation.html">Position Calculation</a> - How objects are spatially organized</li><li><a href="/getting-started/standard-workflow.html">Standard Workflow</a> - Complete setup guide</li></ul>`,79)])])}const f=r(o,[["render",d]]);export{b as __pageData,f as default};
